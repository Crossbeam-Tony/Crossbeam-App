# Supabase Projects Relationship Issue

## Problem

When running the Flutter app, the following error occurs when fetching projects from Supabase:

```
Error fetching projects: PostgrestException(message: Could not find a relationship between 'projects' and 'user_id' in the schema cache, code: PGRST200, details: Searched for a foreign key relationship between 'projects' and 'user_id' in the schema 'public', but no matches were found., hint: null)
```

## Cause

- The Supabase query is trying to join the `projects` table with a `profiles:user_id` relationship.
- There is **no foreign key or relationship** defined in the Supabase schema between `projects.user_id` and the `profiles` table.

## Solution

### 1. Add a Foreign Key Relationship in Supabase

- Go to your Supabase dashboard.
- Open the `projects` table.
- Ensure there is a column named `user_id` (type: UUID or text).
- Open the `profiles` (or `users`) table.
- Ensure the primary key is `id` (type: UUID or text).
- In the `projects` table, set a foreign key on `user_id` referencing `profiles.id`.

#### Example SQL (if your user table is `profiles`):

```sql
alter table projects
add constraint projects_user_id_fkey
foreign key (user_id) references profiles(id);
```

### 2. If your user table is named differently
- Update the join in the Flutter code to match the correct table name (e.g., `users:user_id` if your table is `users`).

## Next Steps
- Add the foreign key in Supabase as described above.
- If the user table is not called `profiles`, update the code accordingly. 